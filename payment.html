<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý thanh toán</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="sidebar">
        <h2>HomeStay</h2>
        <ul>
            <li><a href="admin.html"> ADMIN</a></li>
            <li><a href="adminDashboard.html"> Dashboard</a></li>
            <li><a href="adminBooking.html" class="active"> Quản lý Booking</a></li>
            <li><a href="adminUser.html"> Quản lý Người dùng</a></li>
            <li><a href="rooms.html"> Quản lý phòng</a></li>
            <li><a href="payment.html"> Quản lý thanh toán</a></li>
            <li><a href="review.html"> Phản hồi đánh giá</a></li>
            <li><a href="support.html"> Hỗ trợ khách hàng</a></li>
            <li><a href="login.html"> Đăng xuất</a></li>
        </ul>
    </div>
    <div class="main">
        <div class="header">
            <h1>Quản lý thanh toán</h1>
            <button class="btn" onclick="showAddPaymentForm()">Thêm thanh toán</button>
        </div>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Khách hàng</th>
                        <th>Booking</th>
                        <th>Số tiền (VNĐ)</th>
                        <th>Ngày thanh toán</th>
                        <th>Phương thức</th>
                        <th>Trạng thái</th>
                        <th>Hành động</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1001</td>
                        <td>Nguyễn Văn A</td>
                        <td>001</td>
                        <td>2,400,000</td>
                        <td>2025-08-28</td>
                        <td>Chuyển khoản</td>
                        <td>Đã thanh toán</td>
                        <td>
                            <button class="btn" onclick="showEditPaymentForm(1001)">Sửa</button>
                            <button class="btn" onclick="deletePayment(1001)">Xóa</button>
                        </td>
                    </tr>
                    <tr>
                        <td>1002</td>
                        <td>Trần Thị B</td>
                        <td>002</td>
                        <td>1,800,000</td>
                        <td>2025-08-27</td>
                        <td>Tiền mặt</td>
                        <td>Chờ xác nhận</td>
                        <td>
                            <button class="btn" onclick="showEditPaymentForm(1002)">Sửa</button>
                            <button class="btn" onclick="deletePayment(1002)">Xóa</button>
                        </td>
                    </tr>
                    <!-- Thêm các dòng thanh toán khác tại đây -->
                </tbody>
            </table>
        </div>
        <!-- Form thêm/sửa thanh toán -->
        <div id="paymentForm" style="display:none; background:#fff; padding:20px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.05); margin-top:20px;">
            <h3 id="formTitle">Thêm thanh toán</h3>
            <form id="formPayment" onsubmit="savePayment(event)">
                <input type="hidden" id="paymentId">
                <div class="mb-3">
                    <label>Khách hàng</label>
                    <input type="text" class="form-control" id="paymentCustomer" required>
                </div>
                <div class="mb-3">
                    <label>Booking</label>
                    <input type="text" class="form-control" id="paymentBooking" required>
                </div>
                <div class="mb-3">
                    <label>Số tiền (VNĐ)</label>
                    <input type="number" class="form-control" id="paymentAmount" required>
                </div>
                <div class="mb-3">
                    <label>Ngày thanh toán</label>
                    <input type="date" class="form-control" id="paymentDate" required>
                </div>
                <div class="mb-3">
                    <label>Phương thức</label>
                    <select class="form-control" id="paymentMethod" required>
                        <option value="Chuyển khoản">Chuyển khoản</option>
                        <option value="Tiền mặt">Tiền mặt</option>
                        <option value="Thẻ tín dụng">Thẻ tín dụng</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label>Trạng thái</label>
                    <select class="form-control" id="paymentStatus" required>
                        <option value="Đã thanh toán">Đã thanh toán</option>
                        <option value="Chờ xác nhận">Chờ xác nhận</option>
                        <option value="Đã hủy">Đã hủy</option>
                    </select>
                </div>
                <button type="submit" class="btn">Lưu</button>
                <button type="button" class="btn" onclick="hidePaymentForm()">Hủy</button>
            </form>
        </div>
    </div>
    <script>
        function showAddPaymentForm() {
            document.getElementById('formTitle').innerText = 'Thêm thanh toán';
            document.getElementById('paymentForm').style.display = 'block';
            document.getElementById('formPayment').reset();
            document.getElementById('paymentId').value = '';
        }
        function showEditPaymentForm(id) {
            document.getElementById('formTitle').innerText = 'Sửa thanh toán #' + id;
            document.getElementById('paymentForm').style.display = 'block';
            // TODO: Load dữ liệu thanh toán theo id để sửa (hiện tại là mẫu tĩnh)
        }
        function hidePaymentForm() {
            document.getElementById('paymentForm').style.display = 'none';
        }
        function deletePayment(id) {
            if (confirm('Bạn có chắc muốn xóa thanh toán #' + id + '?')) {
                // TODO: Xử lý xóa thanh toán ở backend
            }
        }
        function savePayment(event) {
            event.preventDefault();
            // TODO: Xử lý lưu thanh toán (thêm/sửa) ở backend
            hidePaymentForm();
        }
    </script>
</body>
</html>